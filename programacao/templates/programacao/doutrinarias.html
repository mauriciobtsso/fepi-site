{% extends 'core/base.html' %}
{% load static %}

{% block title %}FEPI | Palestras Públicas{% endblock %}

{% block extra_css %}
<style>
    /* CSS Base mantido */
    .header-pagina h2 { font-size: 2.2rem; color: var(--azul-escuro); margin-bottom: 10px; }
    .header-pagina p { color: #666; font-size: 1.2rem; }
    .grid-palestras { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 40px; }
    .card-palestra { background: white; border-radius: 12px; overflow: hidden; border: 1px solid #e5e7eb; transition: all 0.3s ease; display: flex; flex-direction: column; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    .card-palestra:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); border-color: var(--dourado); }
    .img-container { position: relative; width: 100%; height: 350px; overflow: hidden; background-color: #f8f9fa; border-bottom: 1px solid #eee; }
    .img-blur-bg { position: absolute; inset: 0; background-size: cover; background-position: center; filter: blur(20px) brightness(0.9); transform: scale(1.2); }
    .img-main { position: relative; width: 100%; height: 100%; object-fit: contain; z-index: 2; }
    .palestra-body { padding: 30px; display: flex; flex-direction: column; }
    .data-box { display: inline-flex; align-items: center; gap: 8px; background-color: var(--azul-claro); color: var(--azul-escuro); font-weight: 800; font-size: 0.9rem; padding: 8px 15px; border-radius: 6px; width: fit-content; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 0.5px; }
    .tema { font-size: 1.4rem; font-weight: 800; color: var(--azul-escuro); margin-bottom: 10px; line-height: 1.3; }
    .palestrante { font-size: 1.1rem; color: var(--dourado); font-weight: 600; margin-bottom: 20px; display: block; }
    .detalhes { font-size: 1rem; color: #555; line-height: 1.8; margin-top: 15px; border-top: 1px solid #f0f0f0; padding-top: 20px; }
</style>
{% endblock %}

{% block content %}
<div class="container">
    
    <div class="header-pagina" style="text-align: center; margin-bottom: 40px !important; padding-bottom: 20px; border-bottom: 1px solid #eee;">
        <h2>Palestras Públicas</h2> 
        <p>Confira os detalhes das próximas palestras e estudos públicos.</p>
    </div>

    {% if palestras %}
    <div class="grid-palestras">
        {% for palestra in palestras %}
        <div class="card-palestra">
            <div class="img-container">
                {% if palestra.imagem %}
                    <div class="img-blur-bg" style="background-image: url('{{ palestra.imagem.url }}');"></div>
                    <img src="{{ palestra.imagem.url }}" alt="{{ palestra.tema }}" class="img-main">
                {% else %}
                    <div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; color:#999; z-index:2; position:relative;">Sem Cartaz</div>
                {% endif %}
            </div>
            <div class="palestra-body">
                <div class="data-box"><i class="fa-solid fa-calendar-alt"></i> {{ palestra.data_hora|date:"d M Y • H:i" }}h</div>
                <div class="tema">{{ palestra.tema }}</div>
                <span class="palestrante">Expositor(a): {{ palestra.palestrante }}</span>
                {% if palestra.descricao %}
                    <div class="detalhes">{{ palestra.descricao|safe }}</div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div style="text-align: center; padding: 80px; border: 1px solid #eee; border-radius:12px;">
        <p style="color: #888; font-size: 1.2rem;">Nenhuma palestra agendada.</p>
    </div>
    {% endif %}

</div>
{% endblock %}