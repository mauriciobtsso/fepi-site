{% block content %}
<div class="container">
    <div class="section-header">
        <div>
            <h2>Palestras Doutrinárias</h2> 
            <p style="color: #666;">Acompanhe o cronograma de temas e expositores.</p>
        </div>
    </div>

    {% if futuras %}
        {% regroup futuras by data_hora|date:"F Y" as doutrinarias_futuras_mes %}

        {% for mes in doutrinarias_futuras_mes %}
            <div class="mes-header">
                <i class="fa-regular fa-calendar-check"></i> {{ mes.grouper }}
            </div>
            {% for doutrinaria in mes.list %}
                <div class="evento-card">
                    <div class="evento-data">
                        <span class="dia-num">{{ doutrinaria.data_hora|date:"d" }}</span>
                        <span class="dia-sem">{{ doutrinaria.data_hora|date:"D" }}</span>
                    </div>
                    <div class="evento-info">
                        <span class="evento-hora">
                            <i class="fa-regular fa-clock"></i> {{ doutrinaria.data_hora|date:"H:i" }}h
                        </span>
                        <span class="evento-tema">{{ doutrinaria.tema }}</span>
                        <span class="evento-palestrante">Expositor: {{ doutrinaria.palestrante }}</span>
                    </div>
                </div>
            {% endfor %}
        {% endfor %}
    {% else %}
        <p style="color:#888; margin-bottom:40px;">Nenhuma palestra futura agendada.</p>
    {% endif %}

    {% if passadas %}
        <div class="historico-divider">Histórico de Palestras</div>

        {% regroup passadas by data_hora|date:"F Y" as doutrinarias_passadas_mes %}

        {% for mes in doutrinarias_passadas_mes %}
            <div class="mes-header" style="color:#888; border-color:#eee;">
                <i class="fa-regular fa-calendar-xmark"></i> {{ mes.grouper }}
            </div>
            {% for doutrinaria in mes.list %}
                <div class="evento-card evento-passado">
                    <div class="evento-data">
                        <span class="dia-num">{{ doutrinaria.data_hora|date:"d" }}</span>
                        <span class="dia-sem">{{ doutrinaria.data_hora|date:"D" }}</span>
                    </div>
                    <div class="evento-info">
                        <span class="evento-hora">
                            <i class="fa-solid fa-check"></i> Realizada às {{ doutrinaria.data_hora|date:"H:i" }}h
                        </span>
                        <span class="evento-tema">{{ doutrinaria.tema }}</span>
                        <span class="evento-palestrante">{{ doutrinaria.palestrante }}</span>
                    </div>
                </div>
            {% endfor %}
        {% endfor %}
    {% endif %}

</div>
{% endblock %}